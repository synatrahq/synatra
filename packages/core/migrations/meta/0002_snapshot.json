{
  "id": "01d3aac5-ae5c-49da-88bf-a3427606ef7a",
  "prevId": "9a5cd05c-1415-434d-8e80-7c1cd69aad55",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.agent_copilot_message": {
      "name": "agent_copilot_message",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "thread_id": {
          "name": "thread_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "copilot_message_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tool_calls": {
          "name": "tool_calls",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "agent_copilot_message_thread_idx": {
          "name": "agent_copilot_message_thread_idx",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_copilot_message_thread_id_agent_copilot_thread_id_fk": {
          "name": "agent_copilot_message_thread_id_agent_copilot_thread_id_fk",
          "tableFrom": "agent_copilot_message",
          "tableTo": "agent_copilot_thread",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_copilot_proposal": {
      "name": "agent_copilot_proposal",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "thread_id": {
          "name": "thread_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "explanation": {
          "name": "explanation",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "copilot_proposal_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "decided_at": {
          "name": "decided_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "agent_copilot_proposal_thread_idx": {
          "name": "agent_copilot_proposal_thread_idx",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_copilot_proposal_thread_id_agent_copilot_thread_id_fk": {
          "name": "agent_copilot_proposal_thread_id_agent_copilot_thread_id_fk",
          "tableFrom": "agent_copilot_proposal",
          "tableTo": "agent_copilot_thread",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agent_copilot_proposal_message_id_agent_copilot_message_id_fk": {
          "name": "agent_copilot_proposal_message_id_agent_copilot_message_id_fk",
          "tableFrom": "agent_copilot_proposal",
          "tableTo": "agent_copilot_message",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_copilot_question_request": {
      "name": "agent_copilot_question_request",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "thread_id": {
          "name": "thread_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tool_call_id": {
          "name": "tool_call_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "questions": {
          "name": "questions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "answers": {
          "name": "answers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "copilot_question_request_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "answered_at": {
          "name": "answered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "agent_copilot_question_request_thread_idx": {
          "name": "agent_copilot_question_request_thread_idx",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_copilot_question_request_thread_id_agent_copilot_thread_id_fk": {
          "name": "agent_copilot_question_request_thread_id_agent_copilot_thread_id_fk",
          "tableFrom": "agent_copilot_question_request",
          "tableTo": "agent_copilot_thread",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agent_copilot_question_request_message_id_agent_copilot_message_id_fk": {
          "name": "agent_copilot_question_request_message_id_agent_copilot_message_id_fk",
          "tableFrom": "agent_copilot_question_request",
          "tableTo": "agent_copilot_message",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_copilot_resource_request": {
      "name": "agent_copilot_resource_request",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "thread_id": {
          "name": "thread_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "explanation": {
          "name": "explanation",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "suggestions": {
          "name": "suggestions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "copilot_resource_request_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "resource_id": {
          "name": "resource_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "decided_at": {
          "name": "decided_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "agent_copilot_resource_request_thread_idx": {
          "name": "agent_copilot_resource_request_thread_idx",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_copilot_resource_request_thread_id_agent_copilot_thread_id_fk": {
          "name": "agent_copilot_resource_request_thread_id_agent_copilot_thread_id_fk",
          "tableFrom": "agent_copilot_resource_request",
          "tableTo": "agent_copilot_thread",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agent_copilot_resource_request_message_id_agent_copilot_message_id_fk": {
          "name": "agent_copilot_resource_request_message_id_agent_copilot_message_id_fk",
          "tableFrom": "agent_copilot_resource_request",
          "tableTo": "agent_copilot_message",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agent_copilot_resource_request_resource_id_resource_id_fk": {
          "name": "agent_copilot_resource_request_resource_id_resource_id_fk",
          "tableFrom": "agent_copilot_resource_request",
          "tableTo": "resource",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_copilot_thread": {
      "name": "agent_copilot_thread",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'New Conversation'"
        },
        "seq": {
          "name": "seq",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "in_flight_state": {
          "name": "in_flight_state",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "agent_copilot_thread_agent_user_idx": {
          "name": "agent_copilot_thread_agent_user_idx",
          "columns": [
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agent_copilot_thread_org_agent_idx": {
          "name": "agent_copilot_thread_org_agent_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_copilot_thread_organization_id_organization_id_fk": {
          "name": "agent_copilot_thread_organization_id_organization_id_fk",
          "tableFrom": "agent_copilot_thread",
          "tableTo": "organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agent_copilot_thread_agent_id_agent_id_fk": {
          "name": "agent_copilot_thread_agent_id_agent_id_fk",
          "tableFrom": "agent_copilot_thread",
          "tableTo": "agent",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agent_copilot_thread_user_id_user_id_fk": {
          "name": "agent_copilot_thread_user_id_user_id_fk",
          "tableFrom": "agent_copilot_thread",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_copilot_tool_log": {
      "name": "agent_copilot_tool_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "thread_id": {
          "name": "thread_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "tool_name": {
          "name": "tool_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tool_call_id": {
          "name": "tool_call_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "copilot_tool_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "latency_ms": {
          "name": "latency_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "agent_copilot_tool_log_thread_idx": {
          "name": "agent_copilot_tool_log_thread_idx",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_copilot_tool_log_thread_id_agent_copilot_thread_id_fk": {
          "name": "agent_copilot_tool_log_thread_id_agent_copilot_thread_id_fk",
          "tableFrom": "agent_copilot_tool_log",
          "tableTo": "agent_copilot_thread",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agent_copilot_tool_log_message_id_agent_copilot_message_id_fk": {
          "name": "agent_copilot_tool_log_message_id_agent_copilot_message_id_fk",
          "tableFrom": "agent_copilot_tool_log",
          "tableTo": "agent_copilot_message",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_copilot_trigger_request": {
      "name": "agent_copilot_trigger_request",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "thread_id": {
          "name": "thread_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "copilot_trigger_request_action",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "trigger_id": {
          "name": "trigger_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "explanation": {
          "name": "explanation",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "copilot_trigger_request_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "decided_at": {
          "name": "decided_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "agent_copilot_trigger_request_thread_idx": {
          "name": "agent_copilot_trigger_request_thread_idx",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_copilot_trigger_request_thread_id_agent_copilot_thread_id_fk": {
          "name": "agent_copilot_trigger_request_thread_id_agent_copilot_thread_id_fk",
          "tableFrom": "agent_copilot_trigger_request",
          "tableTo": "agent_copilot_thread",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agent_copilot_trigger_request_message_id_agent_copilot_message_id_fk": {
          "name": "agent_copilot_trigger_request_message_id_agent_copilot_message_id_fk",
          "tableFrom": "agent_copilot_trigger_request",
          "tableTo": "agent_copilot_message",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agent_copilot_trigger_request_trigger_id_trigger_id_fk": {
          "name": "agent_copilot_trigger_request_trigger_id_trigger_id_fk",
          "tableFrom": "agent_copilot_trigger_request",
          "tableTo": "trigger",
          "columnsFrom": [
            "trigger_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_template": {
      "name": "agent_template",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "icon": {
          "name": "icon",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "icon_color": {
          "name": "icon_color",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "prompt": {
          "name": "prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "suggested_resources": {
          "name": "suggested_resources",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "demo_scenarios": {
          "name": "demo_scenarios",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "featured": {
          "name": "featured",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "agent_template_display_order_idx": {
          "name": "agent_template_display_order_idx",
          "columns": [
            {
              "expression": "display_order",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "agent_template_slug_unique": {
          "name": "agent_template_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_release": {
      "name": "agent_release",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "agent_id": {
          "name": "agent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version_major": {
          "name": "version_major",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "version_minor": {
          "name": "version_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "version_patch": {
          "name": "version_patch",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "runtime_config": {
          "name": "runtime_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "config_hash": {
          "name": "config_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "agent_release_unique_idx": {
          "name": "agent_release_unique_idx",
          "columns": [
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agent_release_semver_idx": {
          "name": "agent_release_semver_idx",
          "columns": [
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version_major",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version_minor",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version_patch",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_release_agent_id_agent_id_fk": {
          "name": "agent_release_agent_id_agent_id_fk",
          "tableFrom": "agent_release",
          "tableTo": "agent",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agent_release_created_by_user_id_fk": {
          "name": "agent_release_created_by_user_id_fk",
          "tableFrom": "agent_release",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent": {
      "name": "agent",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "icon": {
          "name": "icon",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'CircleDashed'"
        },
        "icon_color": {
          "name": "icon_color",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'blue'"
        },
        "current_release_id": {
          "name": "current_release_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "agent_org_slug_idx": {
          "name": "agent_org_slug_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agent_template_idx": {
          "name": "agent_template_idx",
          "columns": [
            {
              "expression": "template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_organization_id_organization_id_fk": {
          "name": "agent_organization_id_organization_id_fk",
          "tableFrom": "agent",
          "tableTo": "organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agent_template_id_agent_template_id_fk": {
          "name": "agent_template_id_agent_template_id_fk",
          "tableFrom": "agent",
          "tableTo": "agent_template",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "agent_created_by_user_id_fk": {
          "name": "agent_created_by_user_id_fk",
          "tableFrom": "agent",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "agent_updated_by_user_id_fk": {
          "name": "agent_updated_by_user_id_fk",
          "tableFrom": "agent",
          "tableTo": "user",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_working_copy": {
      "name": "agent_working_copy",
      "schema": "",
      "columns": {
        "agent_id": {
          "name": "agent_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "runtime_config": {
          "name": "runtime_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "config_hash": {
          "name": "config_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "agent_working_copy_agent_id_agent_id_fk": {
          "name": "agent_working_copy_agent_id_agent_id_fk",
          "tableFrom": "agent_working_copy",
          "tableTo": "agent",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agent_working_copy_updated_by_user_id_fk": {
          "name": "agent_working_copy_updated_by_user_id_fk",
          "tableFrom": "agent_working_copy",
          "tableTo": "user",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.app_account": {
      "name": "app_account",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "app_id": {
          "name": "app_id",
          "type": "app_id",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "credentials": {
          "name": "credentials",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "app_account_org_name_idx": {
          "name": "app_account_org_name_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "app_account_organization_id_organization_id_fk": {
          "name": "app_account_organization_id_organization_id_fk",
          "tableFrom": "app_account",
          "tableTo": "organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "app_account_created_by_user_id_fk": {
          "name": "app_account_created_by_user_id_fk",
          "tableFrom": "app_account",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "app_account_updated_by_user_id_fk": {
          "name": "app_account_updated_by_user_id_fk",
          "tableFrom": "app_account",
          "tableTo": "user",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.channel_agent": {
      "name": "channel_agent",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "channel_id": {
          "name": "channel_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "channel_agent_unique": {
          "name": "channel_agent_unique",
          "columns": [
            {
              "expression": "channel_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "channel_agent_agent_idx": {
          "name": "channel_agent_agent_idx",
          "columns": [
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "channel_agent_channel_id_channel_id_fk": {
          "name": "channel_agent_channel_id_channel_id_fk",
          "tableFrom": "channel_agent",
          "tableTo": "channel",
          "columnsFrom": [
            "channel_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "channel_agent_agent_id_agent_id_fk": {
          "name": "channel_agent_agent_id_agent_id_fk",
          "tableFrom": "channel_agent",
          "tableTo": "agent",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "channel_agent_created_by_user_id_fk": {
          "name": "channel_agent_created_by_user_id_fk",
          "tableFrom": "channel_agent",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.channel_member": {
      "name": "channel_member",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "channel_id": {
          "name": "channel_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "member_id": {
          "name": "member_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "channel_member_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "channel_member_unique": {
          "name": "channel_member_unique",
          "columns": [
            {
              "expression": "channel_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "member_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "channel_member_member_idx": {
          "name": "channel_member_member_idx",
          "columns": [
            {
              "expression": "member_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "channel_member_channel_id_channel_id_fk": {
          "name": "channel_member_channel_id_channel_id_fk",
          "tableFrom": "channel_member",
          "tableTo": "channel",
          "columnsFrom": [
            "channel_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "channel_member_member_id_member_id_fk": {
          "name": "channel_member_member_id_member_id_fk",
          "tableFrom": "channel_member",
          "tableTo": "member",
          "columnsFrom": [
            "member_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "channel_member_created_by_user_id_fk": {
          "name": "channel_member_created_by_user_id_fk",
          "tableFrom": "channel_member",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.channel": {
      "name": "channel",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "icon": {
          "name": "icon",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'Hash'"
        },
        "icon_color": {
          "name": "icon_color",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'gray'"
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "archived": {
          "name": "archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "channel_org_slug_idx": {
          "name": "channel_org_slug_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "channel_org_idx": {
          "name": "channel_org_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "archived",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "channel_organization_id_organization_id_fk": {
          "name": "channel_organization_id_organization_id_fk",
          "tableFrom": "channel",
          "tableTo": "organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "channel_created_by_user_id_fk": {
          "name": "channel_created_by_user_id_fk",
          "tableFrom": "channel",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "channel_updated_by_user_id_fk": {
          "name": "channel_updated_by_user_id_fk",
          "tableFrom": "channel",
          "tableTo": "user",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.connector": {
      "name": "connector",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "token_hash": {
          "name": "token_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "connector_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'offline'"
        },
        "last_seen_at": {
          "name": "last_seen_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "connector_org_name_idx": {
          "name": "connector_org_name_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "connector_organization_id_organization_id_fk": {
          "name": "connector_organization_id_organization_id_fk",
          "tableFrom": "connector",
          "tableTo": "organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "connector_created_by_user_id_fk": {
          "name": "connector_created_by_user_id_fk",
          "tableFrom": "connector",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "connector_updated_by_user_id_fk": {
          "name": "connector_updated_by_user_id_fk",
          "tableFrom": "connector",
          "tableTo": "user",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.environment": {
      "name": "environment",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "color": {
          "name": "color",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "protected": {
          "name": "protected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "environment_org_slug_idx": {
          "name": "environment_org_slug_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "environment_organization_id_organization_id_fk": {
          "name": "environment_organization_id_organization_id_fk",
          "tableFrom": "environment",
          "tableTo": "organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "environment_created_by_user_id_fk": {
          "name": "environment_created_by_user_id_fk",
          "tableFrom": "environment",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "environment_updated_by_user_id_fk": {
          "name": "environment_updated_by_user_id_fk",
          "tableFrom": "environment",
          "tableTo": "user",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.human_request": {
      "name": "human_request",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "thread_id": {
          "name": "thread_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "run_id": {
          "name": "run_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "tool_call_id": {
          "name": "tool_call_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "kind": {
          "name": "kind",
          "type": "human_request_kind",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "authority": {
          "name": "authority",
          "type": "human_request_authority",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'any_member'"
        },
        "timeout_ms": {
          "name": "timeout_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "fallback": {
          "name": "fallback",
          "type": "human_request_fallback",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "human_request_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "human_request_thread_status_idx": {
          "name": "human_request_thread_status_idx",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "human_request_run_status_idx": {
          "name": "human_request_run_status_idx",
          "columns": [
            {
              "expression": "run_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "human_request_tool_call_idx": {
          "name": "human_request_tool_call_idx",
          "columns": [
            {
              "expression": "tool_call_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "human_request_status_idx": {
          "name": "human_request_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "human_request_pending_thread_idx": {
          "name": "human_request_pending_thread_idx",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "status = 'pending'",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "human_request_thread_id_thread_id_fk": {
          "name": "human_request_thread_id_thread_id_fk",
          "tableFrom": "human_request",
          "tableTo": "thread",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "human_request_run_id_run_id_fk": {
          "name": "human_request_run_id_run_id_fk",
          "tableFrom": "human_request",
          "tableTo": "run",
          "columnsFrom": [
            "run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.human_response": {
      "name": "human_response",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "request_id": {
          "name": "request_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "human_response_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "responded_by": {
          "name": "responded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "human_response_request_idx": {
          "name": "human_response_request_idx",
          "columns": [
            {
              "expression": "request_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "human_response_request_id_human_request_id_fk": {
          "name": "human_response_request_id_human_request_id_fk",
          "tableFrom": "human_response",
          "tableTo": "human_request",
          "columnsFrom": [
            "request_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "human_response_responded_by_user_id_fk": {
          "name": "human_response_responded_by_user_id_fk",
          "tableFrom": "human_response",
          "tableTo": "user",
          "columnsFrom": [
            "responded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.invitation": {
      "name": "invitation",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "inviter_id": {
          "name": "inviter_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "member_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "status": {
          "name": "status",
          "type": "invitation_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "invitation_email_org_pending_unique": {
          "name": "invitation_email_org_pending_unique",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "status = 'pending'",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "invitation_inviter_id_user_id_fk": {
          "name": "invitation_inviter_id_user_id_fk",
          "tableFrom": "invitation",
          "tableTo": "user",
          "columnsFrom": [
            "inviter_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "invitation_organization_id_organization_id_fk": {
          "name": "invitation_organization_id_organization_id_fk",
          "tableFrom": "invitation",
          "tableTo": "organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.member": {
      "name": "member",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "member_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "member_user_org_unique": {
          "name": "member_user_org_unique",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "member_user_id_user_id_fk": {
          "name": "member_user_id_user_id_fk",
          "tableFrom": "member",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "member_organization_id_organization_id_fk": {
          "name": "member_organization_id_organization_id_fk",
          "tableFrom": "member",
          "tableTo": "organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.message": {
      "name": "message",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "thread_id": {
          "name": "thread_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "run_id": {
          "name": "run_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "message_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tool_call": {
          "name": "tool_call",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "tool_result": {
          "name": "tool_result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "message_thread_idx": {
          "name": "message_thread_idx",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "message_run_idx": {
          "name": "message_run_idx",
          "columns": [
            {
              "expression": "run_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "message_thread_id_thread_id_fk": {
          "name": "message_thread_id_thread_id_fk",
          "tableFrom": "message",
          "tableTo": "thread",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "message_run_id_run_id_fk": {
          "name": "message_run_id_run_id_fk",
          "tableFrom": "message",
          "tableTo": "run",
          "columnsFrom": [
            "run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.organization": {
      "name": "organization",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "logo": {
          "name": "logo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "organization_slug_unique": {
          "name": "organization_slug_unique",
          "columns": [
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.output_item": {
      "name": "output_item",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "thread_id": {
          "name": "thread_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "run_id": {
          "name": "run_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "tool_call_id": {
          "name": "tool_call_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "kind": {
          "name": "kind",
          "type": "output_kind",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "output_item_thread_idx": {
          "name": "output_item_thread_idx",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "output_item_run_idx": {
          "name": "output_item_run_idx",
          "columns": [
            {
              "expression": "run_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "output_item_tool_call_idx": {
          "name": "output_item_tool_call_idx",
          "columns": [
            {
              "expression": "tool_call_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "output_item_thread_id_thread_id_fk": {
          "name": "output_item_thread_id_thread_id_fk",
          "tableFrom": "output_item",
          "tableTo": "thread",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "output_item_run_id_run_id_fk": {
          "name": "output_item_run_id_run_id_fk",
          "tableFrom": "output_item",
          "tableTo": "run",
          "columnsFrom": [
            "run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.prompt_release": {
      "name": "prompt_release",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "prompt_id": {
          "name": "prompt_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version_major": {
          "name": "version_major",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "version_minor": {
          "name": "version_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "version_patch": {
          "name": "version_patch",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "mode": {
          "name": "mode",
          "type": "prompt_mode",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'template'"
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "script": {
          "name": "script",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "input_schema": {
          "name": "input_schema",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "content_hash": {
          "name": "content_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "prompt_release_unique_idx": {
          "name": "prompt_release_unique_idx",
          "columns": [
            {
              "expression": "prompt_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "prompt_release_semver_idx": {
          "name": "prompt_release_semver_idx",
          "columns": [
            {
              "expression": "prompt_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version_major",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version_minor",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version_patch",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "prompt_release_prompt_id_prompt_id_fk": {
          "name": "prompt_release_prompt_id_prompt_id_fk",
          "tableFrom": "prompt_release",
          "tableTo": "prompt",
          "columnsFrom": [
            "prompt_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "prompt_release_created_by_user_id_fk": {
          "name": "prompt_release_created_by_user_id_fk",
          "tableFrom": "prompt_release",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.prompt": {
      "name": "prompt",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "current_release_id": {
          "name": "current_release_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "prompt_org_slug_idx": {
          "name": "prompt_org_slug_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "prompt_organization_id_organization_id_fk": {
          "name": "prompt_organization_id_organization_id_fk",
          "tableFrom": "prompt",
          "tableTo": "organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "prompt_agent_id_agent_id_fk": {
          "name": "prompt_agent_id_agent_id_fk",
          "tableFrom": "prompt",
          "tableTo": "agent",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "prompt_created_by_user_id_fk": {
          "name": "prompt_created_by_user_id_fk",
          "tableFrom": "prompt",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "prompt_updated_by_user_id_fk": {
          "name": "prompt_updated_by_user_id_fk",
          "tableFrom": "prompt",
          "tableTo": "user",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.prompt_working_copy": {
      "name": "prompt_working_copy",
      "schema": "",
      "columns": {
        "prompt_id": {
          "name": "prompt_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "mode": {
          "name": "mode",
          "type": "prompt_mode",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'template'"
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "script": {
          "name": "script",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "input_schema": {
          "name": "input_schema",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "content_hash": {
          "name": "content_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "prompt_working_copy_prompt_id_prompt_id_fk": {
          "name": "prompt_working_copy_prompt_id_prompt_id_fk",
          "tableFrom": "prompt_working_copy",
          "tableTo": "prompt",
          "columnsFrom": [
            "prompt_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "prompt_working_copy_updated_by_user_id_fk": {
          "name": "prompt_working_copy_updated_by_user_id_fk",
          "tableFrom": "prompt_working_copy",
          "tableTo": "user",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.recipe_edge": {
      "name": "recipe_edge",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "working_copy_recipe_id": {
          "name": "working_copy_recipe_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "release_id": {
          "name": "release_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "from_step_key": {
          "name": "from_step_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "to_step_key": {
          "name": "to_step_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "recipe_edge_working_copy_idx": {
          "name": "recipe_edge_working_copy_idx",
          "columns": [
            {
              "expression": "working_copy_recipe_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "recipe_edge_release_idx": {
          "name": "recipe_edge_release_idx",
          "columns": [
            {
              "expression": "release_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "recipe_edge_working_copy_unique_idx": {
          "name": "recipe_edge_working_copy_unique_idx",
          "columns": [
            {
              "expression": "working_copy_recipe_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "from_step_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "to_step_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "working_copy_recipe_id IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "recipe_edge_release_unique_idx": {
          "name": "recipe_edge_release_unique_idx",
          "columns": [
            {
              "expression": "release_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "from_step_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "to_step_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "release_id IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "recipe_edge_working_copy_recipe_id_recipe_working_copy_recipe_id_fk": {
          "name": "recipe_edge_working_copy_recipe_id_recipe_working_copy_recipe_id_fk",
          "tableFrom": "recipe_edge",
          "tableTo": "recipe_working_copy",
          "columnsFrom": [
            "working_copy_recipe_id"
          ],
          "columnsTo": [
            "recipe_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "recipe_edge_release_id_recipe_release_id_fk": {
          "name": "recipe_edge_release_id_recipe_release_id_fk",
          "tableFrom": "recipe_edge",
          "tableTo": "recipe_release",
          "columnsFrom": [
            "release_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "recipe_edge_parent_check": {
          "name": "recipe_edge_parent_check",
          "value": "(working_copy_recipe_id IS NOT NULL AND release_id IS NULL) OR (working_copy_recipe_id IS NULL AND release_id IS NOT NULL)"
        }
      },
      "isRLSEnabled": false
    },
    "public.recipe_execution_event": {
      "name": "recipe_execution_event",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "execution_id": {
          "name": "execution_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "recipe_execution_event_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "step_key": {
          "name": "step_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "recipe_execution_event_idx": {
          "name": "recipe_execution_event_idx",
          "columns": [
            {
              "expression": "execution_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "recipe_execution_event_execution_id_recipe_execution_id_fk": {
          "name": "recipe_execution_event_execution_id_recipe_execution_id_fk",
          "tableFrom": "recipe_execution_event",
          "tableTo": "recipe_execution",
          "columnsFrom": [
            "execution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.recipe_execution": {
      "name": "recipe_execution",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "recipe_id": {
          "name": "recipe_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "release_id": {
          "name": "release_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "environment_id": {
          "name": "environment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "inputs": {
          "name": "inputs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "recipe_execution_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "current_step_key": {
          "name": "current_step_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pending_input_config": {
          "name": "pending_input_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "results": {
          "name": "results",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "resolved_params": {
          "name": "resolved_params",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "output_item_ids": {
          "name": "output_item_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "error": {
          "name": "error",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "recipe_execution_recipe_idx": {
          "name": "recipe_execution_recipe_idx",
          "columns": [
            {
              "expression": "recipe_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "recipe_execution_release_idx": {
          "name": "recipe_execution_release_idx",
          "columns": [
            {
              "expression": "release_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "recipe_execution_org_idx": {
          "name": "recipe_execution_org_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "recipe_execution_status_idx": {
          "name": "recipe_execution_status_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "recipe_execution_recipe_id_recipe_id_fk": {
          "name": "recipe_execution_recipe_id_recipe_id_fk",
          "tableFrom": "recipe_execution",
          "tableTo": "recipe",
          "columnsFrom": [
            "recipe_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "recipe_execution_release_id_recipe_release_id_fk": {
          "name": "recipe_execution_release_id_recipe_release_id_fk",
          "tableFrom": "recipe_execution",
          "tableTo": "recipe_release",
          "columnsFrom": [
            "release_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "recipe_execution_organization_id_organization_id_fk": {
          "name": "recipe_execution_organization_id_organization_id_fk",
          "tableFrom": "recipe_execution",
          "tableTo": "organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "recipe_execution_environment_id_environment_id_fk": {
          "name": "recipe_execution_environment_id_environment_id_fk",
          "tableFrom": "recipe_execution",
          "tableTo": "environment",
          "columnsFrom": [
            "environment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "recipe_execution_created_by_user_id_fk": {
          "name": "recipe_execution_created_by_user_id_fk",
          "tableFrom": "recipe_execution",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.recipe_release": {
      "name": "recipe_release",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "recipe_id": {
          "name": "recipe_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version_major": {
          "name": "version_major",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "version_minor": {
          "name": "version_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "version_patch": {
          "name": "version_patch",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "agent_release_id": {
          "name": "agent_release_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "agent_version_mode": {
          "name": "agent_version_mode",
          "type": "version_mode",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'current'"
        },
        "inputs": {
          "name": "inputs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "outputs": {
          "name": "outputs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "config_hash": {
          "name": "config_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "recipe_release_unique_idx": {
          "name": "recipe_release_unique_idx",
          "columns": [
            {
              "expression": "recipe_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "recipe_release_semver_idx": {
          "name": "recipe_release_semver_idx",
          "columns": [
            {
              "expression": "recipe_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version_major",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version_minor",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version_patch",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "recipe_release_recipe_idx": {
          "name": "recipe_release_recipe_idx",
          "columns": [
            {
              "expression": "recipe_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "recipe_release_recipe_id_recipe_id_fk": {
          "name": "recipe_release_recipe_id_recipe_id_fk",
          "tableFrom": "recipe_release",
          "tableTo": "recipe",
          "columnsFrom": [
            "recipe_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "recipe_release_agent_release_id_agent_release_id_fk": {
          "name": "recipe_release_agent_release_id_agent_release_id_fk",
          "tableFrom": "recipe_release",
          "tableTo": "agent_release",
          "columnsFrom": [
            "agent_release_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "recipe_release_created_by_user_id_fk": {
          "name": "recipe_release_created_by_user_id_fk",
          "tableFrom": "recipe_release",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.recipe_step": {
      "name": "recipe_step",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "working_copy_recipe_id": {
          "name": "working_copy_recipe_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "release_id": {
          "name": "release_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "step_key": {
          "name": "step_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "step_type": {
          "name": "step_type",
          "type": "recipe_step_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'action'"
        },
        "tool_name": {
          "name": "tool_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "params": {
          "name": "params",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "position": {
          "name": "position",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "recipe_step_working_copy_idx": {
          "name": "recipe_step_working_copy_idx",
          "columns": [
            {
              "expression": "working_copy_recipe_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "position",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "recipe_step_release_idx": {
          "name": "recipe_step_release_idx",
          "columns": [
            {
              "expression": "release_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "position",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "recipe_step_working_copy_key_idx": {
          "name": "recipe_step_working_copy_key_idx",
          "columns": [
            {
              "expression": "working_copy_recipe_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "step_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "working_copy_recipe_id IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "recipe_step_release_key_idx": {
          "name": "recipe_step_release_key_idx",
          "columns": [
            {
              "expression": "release_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "step_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "release_id IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "recipe_step_working_copy_recipe_id_recipe_working_copy_recipe_id_fk": {
          "name": "recipe_step_working_copy_recipe_id_recipe_working_copy_recipe_id_fk",
          "tableFrom": "recipe_step",
          "tableTo": "recipe_working_copy",
          "columnsFrom": [
            "working_copy_recipe_id"
          ],
          "columnsTo": [
            "recipe_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "recipe_step_release_id_recipe_release_id_fk": {
          "name": "recipe_step_release_id_recipe_release_id_fk",
          "tableFrom": "recipe_step",
          "tableTo": "recipe_release",
          "columnsFrom": [
            "release_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "recipe_step_parent_check": {
          "name": "recipe_step_parent_check",
          "value": "(working_copy_recipe_id IS NOT NULL AND release_id IS NULL) OR (working_copy_recipe_id IS NULL AND release_id IS NOT NULL)"
        }
      },
      "isRLSEnabled": false
    },
    "public.recipe": {
      "name": "recipe",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "channel_id": {
          "name": "channel_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "source_thread_id": {
          "name": "source_thread_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "source_run_id": {
          "name": "source_run_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "current_release_id": {
          "name": "current_release_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "recipe_org_slug_idx": {
          "name": "recipe_org_slug_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "recipe_org_agent_idx": {
          "name": "recipe_org_agent_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "recipe_current_release_idx": {
          "name": "recipe_current_release_idx",
          "columns": [
            {
              "expression": "current_release_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "recipe_organization_id_organization_id_fk": {
          "name": "recipe_organization_id_organization_id_fk",
          "tableFrom": "recipe",
          "tableTo": "organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "recipe_agent_id_agent_id_fk": {
          "name": "recipe_agent_id_agent_id_fk",
          "tableFrom": "recipe",
          "tableTo": "agent",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "recipe_channel_id_channel_id_fk": {
          "name": "recipe_channel_id_channel_id_fk",
          "tableFrom": "recipe",
          "tableTo": "channel",
          "columnsFrom": [
            "channel_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "recipe_source_thread_id_thread_id_fk": {
          "name": "recipe_source_thread_id_thread_id_fk",
          "tableFrom": "recipe",
          "tableTo": "thread",
          "columnsFrom": [
            "source_thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "recipe_source_run_id_run_id_fk": {
          "name": "recipe_source_run_id_run_id_fk",
          "tableFrom": "recipe",
          "tableTo": "run",
          "columnsFrom": [
            "source_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "recipe_created_by_user_id_fk": {
          "name": "recipe_created_by_user_id_fk",
          "tableFrom": "recipe",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "recipe_updated_by_user_id_fk": {
          "name": "recipe_updated_by_user_id_fk",
          "tableFrom": "recipe",
          "tableTo": "user",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.recipe_working_copy": {
      "name": "recipe_working_copy",
      "schema": "",
      "columns": {
        "recipe_id": {
          "name": "recipe_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "agent_release_id": {
          "name": "agent_release_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "agent_version_mode": {
          "name": "agent_version_mode",
          "type": "version_mode",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'current'"
        },
        "inputs": {
          "name": "inputs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "outputs": {
          "name": "outputs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "config_hash": {
          "name": "config_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "recipe_working_copy_recipe_id_recipe_id_fk": {
          "name": "recipe_working_copy_recipe_id_recipe_id_fk",
          "tableFrom": "recipe_working_copy",
          "tableTo": "recipe",
          "columnsFrom": [
            "recipe_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "recipe_working_copy_agent_release_id_agent_release_id_fk": {
          "name": "recipe_working_copy_agent_release_id_agent_release_id_fk",
          "tableFrom": "recipe_working_copy",
          "tableTo": "agent_release",
          "columnsFrom": [
            "agent_release_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "recipe_working_copy_updated_by_user_id_fk": {
          "name": "recipe_working_copy_updated_by_user_id_fk",
          "tableFrom": "recipe_working_copy",
          "tableTo": "user",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.resource_config": {
      "name": "resource_config",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "resource_id": {
          "name": "resource_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "environment_id": {
          "name": "environment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "connection_mode": {
          "name": "connection_mode",
          "type": "connection_mode",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'direct'"
        },
        "connector_id": {
          "name": "connector_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "resource_config_resource_env_idx": {
          "name": "resource_config_resource_env_idx",
          "columns": [
            {
              "expression": "resource_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "environment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "resource_config_resource_id_resource_id_fk": {
          "name": "resource_config_resource_id_resource_id_fk",
          "tableFrom": "resource_config",
          "tableTo": "resource",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "resource_config_environment_id_environment_id_fk": {
          "name": "resource_config_environment_id_environment_id_fk",
          "tableFrom": "resource_config",
          "tableTo": "environment",
          "columnsFrom": [
            "environment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "resource_config_connector_id_connector_id_fk": {
          "name": "resource_config_connector_id_connector_id_fk",
          "tableFrom": "resource_config",
          "tableTo": "connector",
          "columnsFrom": [
            "connector_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "resource_config_created_by_user_id_fk": {
          "name": "resource_config_created_by_user_id_fk",
          "tableFrom": "resource_config",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "resource_config_updated_by_user_id_fk": {
          "name": "resource_config_updated_by_user_id_fk",
          "tableFrom": "resource_config",
          "tableTo": "user",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.resource": {
      "name": "resource",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "resource_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "managed": {
          "name": "managed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "resource_org_slug_idx": {
          "name": "resource_org_slug_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "resource_org_type_managed_idx": {
          "name": "resource_org_type_managed_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "managed",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "resource_organization_id_organization_id_fk": {
          "name": "resource_organization_id_organization_id_fk",
          "tableFrom": "resource",
          "tableTo": "organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "resource_created_by_user_id_fk": {
          "name": "resource_created_by_user_id_fk",
          "tableFrom": "resource",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "resource_updated_by_user_id_fk": {
          "name": "resource_updated_by_user_id_fk",
          "tableFrom": "resource",
          "tableTo": "user",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.run": {
      "name": "run",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "thread_id": {
          "name": "thread_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "parent_run_id": {
          "name": "parent_run_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "depth": {
          "name": "depth",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "agent_id": {
          "name": "agent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "agent_release_id": {
          "name": "agent_release_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "run_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'running'"
        },
        "input": {
          "name": "input",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "output": {
          "name": "output",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "input_tokens": {
          "name": "input_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "output_tokens": {
          "name": "output_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "run_thread_idx": {
          "name": "run_thread_idx",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "run_parent_idx": {
          "name": "run_parent_idx",
          "columns": [
            {
              "expression": "parent_run_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "run_thread_depth_idx": {
          "name": "run_thread_depth_idx",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "depth",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "run_thread_id_thread_id_fk": {
          "name": "run_thread_id_thread_id_fk",
          "tableFrom": "run",
          "tableTo": "thread",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "run_parent_run_id_run_id_fk": {
          "name": "run_parent_run_id_run_id_fk",
          "tableFrom": "run",
          "tableTo": "run",
          "columnsFrom": [
            "parent_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "run_agent_id_agent_id_fk": {
          "name": "run_agent_id_agent_id_fk",
          "tableFrom": "run",
          "tableTo": "agent",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "run_agent_release_id_agent_release_id_fk": {
          "name": "run_agent_release_id_agent_release_id_fk",
          "tableFrom": "run",
          "tableTo": "agent_release",
          "columnsFrom": [
            "agent_release_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.account": {
      "name": "account",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider_id": {
          "name": "provider_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_token_expires_at": {
          "name": "access_token_expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token_expires_at": {
          "name": "refresh_token_expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "id_token": {
          "name": "id_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "account_provider_idx": {
          "name": "account_provider_idx",
          "columns": [
            {
              "expression": "provider_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "account_user_id_user_id_fk": {
          "name": "account_user_id_user_id_fk",
          "tableFrom": "account",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.session": {
      "name": "session",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "active_organization_id": {
          "name": "active_organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "session_token_idx": {
          "name": "session_token_idx",
          "columns": [
            {
              "expression": "token",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "session_user_id_user_id_fk": {
          "name": "session_user_id_user_id_fk",
          "tableFrom": "session",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "session_active_organization_id_organization_id_fk": {
          "name": "session_active_organization_id_organization_id_fk",
          "tableFrom": "session",
          "tableTo": "organization",
          "columnsFrom": [
            "active_organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.verification": {
      "name": "verification",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "identifier": {
          "name": "identifier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "verification_identifier_value_idx": {
          "name": "verification_identifier_value_idx",
          "columns": [
            {
              "expression": "identifier",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "value",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.stripe_event": {
      "name": "stripe_event",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "stripe_event_id": {
          "name": "stripe_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "stripe_event_id_idx": {
          "name": "stripe_event_id_idx",
          "columns": [
            {
              "expression": "stripe_event_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "stripe_event_organization_id_organization_id_fk": {
          "name": "stripe_event_organization_id_organization_id_fk",
          "tableFrom": "stripe_event",
          "tableTo": "organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.subscription": {
      "name": "subscription",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "plan": {
          "name": "plan",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "current_period_start": {
          "name": "current_period_start",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "current_period_end": {
          "name": "current_period_end",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_price_id": {
          "name": "stripe_price_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_schedule_id": {
          "name": "stripe_schedule_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_plan": {
          "name": "scheduled_plan",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_at": {
          "name": "scheduled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancel_at": {
          "name": "cancel_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "subscription_org_idx": {
          "name": "subscription_org_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "subscription_organization_id_organization_id_fk": {
          "name": "subscription_organization_id_organization_id_fk",
          "tableFrom": "subscription",
          "tableTo": "organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.thread": {
      "name": "thread",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "kind": {
          "name": "kind",
          "type": "thread_kind",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'thread'"
        },
        "environment_id": {
          "name": "environment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "agent_release_id": {
          "name": "agent_release_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "channel_id": {
          "name": "channel_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_id": {
          "name": "trigger_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_release_id": {
          "name": "trigger_release_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_debug": {
          "name": "is_debug",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "agent_config_hash": {
          "name": "agent_config_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "workflow_id": {
          "name": "workflow_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "thread_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'running'"
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "result": {
          "name": "result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "skip_reason": {
          "name": "skip_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "seq": {
          "name": "seq",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "archived": {
          "name": "archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "thread_org_agent_idx": {
          "name": "thread_org_agent_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "thread_org_agent_release_idx": {
          "name": "thread_org_agent_release_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agent_release_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "thread_org_trigger_idx": {
          "name": "thread_org_trigger_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "trigger_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "thread_trigger_release_idx": {
          "name": "thread_trigger_release_idx",
          "columns": [
            {
              "expression": "trigger_release_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "thread_org_env_idx": {
          "name": "thread_org_env_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "environment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "thread_org_status_idx": {
          "name": "thread_org_status_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "thread_channel_idx": {
          "name": "thread_channel_idx",
          "columns": [
            {
              "expression": "channel_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "thread_channel_status_idx": {
          "name": "thread_channel_status_idx",
          "columns": [
            {
              "expression": "channel_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "thread_channel_archived_idx": {
          "name": "thread_channel_archived_idx",
          "columns": [
            {
              "expression": "channel_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "archived",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "thread_kind_user_idx": {
          "name": "thread_kind_user_idx",
          "columns": [
            {
              "expression": "kind",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "thread_playground_idx": {
          "name": "thread_playground_idx",
          "columns": [
            {
              "expression": "kind",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "thread_organization_id_organization_id_fk": {
          "name": "thread_organization_id_organization_id_fk",
          "tableFrom": "thread",
          "tableTo": "organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "thread_environment_id_environment_id_fk": {
          "name": "thread_environment_id_environment_id_fk",
          "tableFrom": "thread",
          "tableTo": "environment",
          "columnsFrom": [
            "environment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "thread_agent_id_agent_id_fk": {
          "name": "thread_agent_id_agent_id_fk",
          "tableFrom": "thread",
          "tableTo": "agent",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "thread_agent_release_id_agent_release_id_fk": {
          "name": "thread_agent_release_id_agent_release_id_fk",
          "tableFrom": "thread",
          "tableTo": "agent_release",
          "columnsFrom": [
            "agent_release_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "thread_channel_id_channel_id_fk": {
          "name": "thread_channel_id_channel_id_fk",
          "tableFrom": "thread",
          "tableTo": "channel",
          "columnsFrom": [
            "channel_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "thread_trigger_id_trigger_id_fk": {
          "name": "thread_trigger_id_trigger_id_fk",
          "tableFrom": "thread",
          "tableTo": "trigger",
          "columnsFrom": [
            "trigger_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "thread_trigger_release_id_trigger_release_id_fk": {
          "name": "thread_trigger_release_id_trigger_release_id_fk",
          "tableFrom": "thread",
          "tableTo": "trigger_release",
          "columnsFrom": [
            "trigger_release_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "thread_created_by_user_id_fk": {
          "name": "thread_created_by_user_id_fk",
          "tableFrom": "thread",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "thread_user_id_user_id_fk": {
          "name": "thread_user_id_user_id_fk",
          "tableFrom": "thread",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.trigger_environment": {
      "name": "trigger_environment",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "trigger_id": {
          "name": "trigger_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "environment_id": {
          "name": "environment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "channel_id": {
          "name": "channel_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "webhook_secret": {
          "name": "webhook_secret",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "debug_secret": {
          "name": "debug_secret",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "trigger_environment_idx": {
          "name": "trigger_environment_idx",
          "columns": [
            {
              "expression": "trigger_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "environment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "trigger_environment_channel_idx": {
          "name": "trigger_environment_channel_idx",
          "columns": [
            {
              "expression": "channel_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "trigger_environment_active_idx": {
          "name": "trigger_environment_active_idx",
          "columns": [
            {
              "expression": "environment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "trigger_environment_trigger_id_trigger_id_fk": {
          "name": "trigger_environment_trigger_id_trigger_id_fk",
          "tableFrom": "trigger_environment",
          "tableTo": "trigger",
          "columnsFrom": [
            "trigger_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "trigger_environment_environment_id_environment_id_fk": {
          "name": "trigger_environment_environment_id_environment_id_fk",
          "tableFrom": "trigger_environment",
          "tableTo": "environment",
          "columnsFrom": [
            "environment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "trigger_environment_channel_id_channel_id_fk": {
          "name": "trigger_environment_channel_id_channel_id_fk",
          "tableFrom": "trigger_environment",
          "tableTo": "channel",
          "columnsFrom": [
            "channel_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.trigger_release": {
      "name": "trigger_release",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "trigger_id": {
          "name": "trigger_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version_major": {
          "name": "version_major",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "version_minor": {
          "name": "version_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "version_patch": {
          "name": "version_patch",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "agent_release_id": {
          "name": "agent_release_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "agent_version_mode": {
          "name": "agent_version_mode",
          "type": "version_mode",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'current'"
        },
        "prompt_id": {
          "name": "prompt_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "prompt_release_id": {
          "name": "prompt_release_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "prompt_version_mode": {
          "name": "prompt_version_mode",
          "type": "version_mode",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'current'"
        },
        "mode": {
          "name": "mode",
          "type": "trigger_mode",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'template'"
        },
        "template": {
          "name": "template",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "script": {
          "name": "script",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "payload_schema": {
          "name": "payload_schema",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "trigger_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "cron": {
          "name": "cron",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "schedule_mode": {
          "name": "schedule_mode",
          "type": "schedule_mode",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'interval'"
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'UTC'"
        },
        "input": {
          "name": "input",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "app_account_id": {
          "name": "app_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "app_events": {
          "name": "app_events",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "config_hash": {
          "name": "config_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "trigger_release_unique_idx": {
          "name": "trigger_release_unique_idx",
          "columns": [
            {
              "expression": "trigger_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "trigger_release_semver_idx": {
          "name": "trigger_release_semver_idx",
          "columns": [
            {
              "expression": "trigger_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version_major",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version_minor",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version_patch",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "trigger_release_trigger_id_trigger_id_fk": {
          "name": "trigger_release_trigger_id_trigger_id_fk",
          "tableFrom": "trigger_release",
          "tableTo": "trigger",
          "columnsFrom": [
            "trigger_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "trigger_release_agent_release_id_agent_release_id_fk": {
          "name": "trigger_release_agent_release_id_agent_release_id_fk",
          "tableFrom": "trigger_release",
          "tableTo": "agent_release",
          "columnsFrom": [
            "agent_release_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "trigger_release_prompt_id_prompt_id_fk": {
          "name": "trigger_release_prompt_id_prompt_id_fk",
          "tableFrom": "trigger_release",
          "tableTo": "prompt",
          "columnsFrom": [
            "prompt_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "trigger_release_prompt_release_id_prompt_release_id_fk": {
          "name": "trigger_release_prompt_release_id_prompt_release_id_fk",
          "tableFrom": "trigger_release",
          "tableTo": "prompt_release",
          "columnsFrom": [
            "prompt_release_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "trigger_release_app_account_id_app_account_id_fk": {
          "name": "trigger_release_app_account_id_app_account_id_fk",
          "tableFrom": "trigger_release",
          "tableTo": "app_account",
          "columnsFrom": [
            "app_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "trigger_release_created_by_user_id_fk": {
          "name": "trigger_release_created_by_user_id_fk",
          "tableFrom": "trigger_release",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.trigger": {
      "name": "trigger",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "current_release_id": {
          "name": "current_release_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "trigger_org_slug_idx": {
          "name": "trigger_org_slug_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "trigger_current_release_idx": {
          "name": "trigger_current_release_idx",
          "columns": [
            {
              "expression": "current_release_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "trigger_organization_id_organization_id_fk": {
          "name": "trigger_organization_id_organization_id_fk",
          "tableFrom": "trigger",
          "tableTo": "organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "trigger_agent_id_agent_id_fk": {
          "name": "trigger_agent_id_agent_id_fk",
          "tableFrom": "trigger",
          "tableTo": "agent",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "trigger_created_by_user_id_fk": {
          "name": "trigger_created_by_user_id_fk",
          "tableFrom": "trigger",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "trigger_updated_by_user_id_fk": {
          "name": "trigger_updated_by_user_id_fk",
          "tableFrom": "trigger",
          "tableTo": "user",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.trigger_working_copy": {
      "name": "trigger_working_copy",
      "schema": "",
      "columns": {
        "trigger_id": {
          "name": "trigger_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "agent_release_id": {
          "name": "agent_release_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "agent_version_mode": {
          "name": "agent_version_mode",
          "type": "version_mode",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'current'"
        },
        "prompt_id": {
          "name": "prompt_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "prompt_release_id": {
          "name": "prompt_release_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "prompt_version_mode": {
          "name": "prompt_version_mode",
          "type": "version_mode",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'current'"
        },
        "mode": {
          "name": "mode",
          "type": "trigger_mode",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'template'"
        },
        "template": {
          "name": "template",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "script": {
          "name": "script",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "payload_schema": {
          "name": "payload_schema",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "trigger_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'webhook'"
        },
        "cron": {
          "name": "cron",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "schedule_mode": {
          "name": "schedule_mode",
          "type": "schedule_mode",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'interval'"
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'UTC'"
        },
        "input": {
          "name": "input",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "app_account_id": {
          "name": "app_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "app_events": {
          "name": "app_events",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "config_hash": {
          "name": "config_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "trigger_working_copy_trigger_id_trigger_id_fk": {
          "name": "trigger_working_copy_trigger_id_trigger_id_fk",
          "tableFrom": "trigger_working_copy",
          "tableTo": "trigger",
          "columnsFrom": [
            "trigger_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "trigger_working_copy_agent_release_id_agent_release_id_fk": {
          "name": "trigger_working_copy_agent_release_id_agent_release_id_fk",
          "tableFrom": "trigger_working_copy",
          "tableTo": "agent_release",
          "columnsFrom": [
            "agent_release_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "trigger_working_copy_prompt_id_prompt_id_fk": {
          "name": "trigger_working_copy_prompt_id_prompt_id_fk",
          "tableFrom": "trigger_working_copy",
          "tableTo": "prompt",
          "columnsFrom": [
            "prompt_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "trigger_working_copy_prompt_release_id_prompt_release_id_fk": {
          "name": "trigger_working_copy_prompt_release_id_prompt_release_id_fk",
          "tableFrom": "trigger_working_copy",
          "tableTo": "prompt_release",
          "columnsFrom": [
            "prompt_release_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "trigger_working_copy_app_account_id_app_account_id_fk": {
          "name": "trigger_working_copy_app_account_id_app_account_id_fk",
          "tableFrom": "trigger_working_copy",
          "tableTo": "app_account",
          "columnsFrom": [
            "app_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "trigger_working_copy_updated_by_user_id_fk": {
          "name": "trigger_working_copy_updated_by_user_id_fk",
          "tableFrom": "trigger_working_copy",
          "tableTo": "user",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.usage_month": {
      "name": "usage_month",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "year_month": {
          "name": "year_month",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "run_count": {
          "name": "run_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "runs_user": {
          "name": "runs_user",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "runs_trigger": {
          "name": "runs_trigger",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "runs_subagent": {
          "name": "runs_subagent",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "usage_month_org_ym_idx": {
          "name": "usage_month_org_ym_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "year_month",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "usage_month_organization_id_organization_id_fk": {
          "name": "usage_month_organization_id_organization_id_fk",
          "tableFrom": "usage_month",
          "tableTo": "organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user": {
      "name": "user",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_email_idx": {
          "name": "user_email_idx",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.copilot_message_role": {
      "name": "copilot_message_role",
      "schema": "public",
      "values": [
        "user",
        "assistant"
      ]
    },
    "public.copilot_proposal_status": {
      "name": "copilot_proposal_status",
      "schema": "public",
      "values": [
        "pending",
        "approved",
        "rejected"
      ]
    },
    "public.copilot_question_request_status": {
      "name": "copilot_question_request_status",
      "schema": "public",
      "values": [
        "pending",
        "answered",
        "cancelled"
      ]
    },
    "public.copilot_resource_request_status": {
      "name": "copilot_resource_request_status",
      "schema": "public",
      "values": [
        "pending",
        "completed",
        "cancelled"
      ]
    },
    "public.copilot_tool_status": {
      "name": "copilot_tool_status",
      "schema": "public",
      "values": [
        "started",
        "succeeded",
        "failed"
      ]
    },
    "public.copilot_trigger_request_action": {
      "name": "copilot_trigger_request_action",
      "schema": "public",
      "values": [
        "create",
        "update"
      ]
    },
    "public.copilot_trigger_request_status": {
      "name": "copilot_trigger_request_status",
      "schema": "public",
      "values": [
        "pending",
        "completed",
        "cancelled"
      ]
    },
    "public.app_id": {
      "name": "app_id",
      "schema": "public",
      "values": [
        "intercom",
        "github"
      ]
    },
    "public.channel_member_role": {
      "name": "channel_member_role",
      "schema": "public",
      "values": [
        "owner",
        "member"
      ]
    },
    "public.connector_status": {
      "name": "connector_status",
      "schema": "public",
      "values": [
        "online",
        "offline",
        "error"
      ]
    },
    "public.human_request_authority": {
      "name": "human_request_authority",
      "schema": "public",
      "values": [
        "any_member",
        "owner_only"
      ]
    },
    "public.human_request_fallback": {
      "name": "human_request_fallback",
      "schema": "public",
      "values": [
        "skip",
        "default",
        "fail"
      ]
    },
    "public.human_request_kind": {
      "name": "human_request_kind",
      "schema": "public",
      "values": [
        "form",
        "select_rows",
        "confirm",
        "approval",
        "question"
      ]
    },
    "public.human_request_status": {
      "name": "human_request_status",
      "schema": "public",
      "values": [
        "pending",
        "responded",
        "cancelled",
        "skipped",
        "timeout"
      ]
    },
    "public.human_response_status": {
      "name": "human_response_status",
      "schema": "public",
      "values": [
        "responded",
        "cancelled",
        "skipped"
      ]
    },
    "public.invitation_status": {
      "name": "invitation_status",
      "schema": "public",
      "values": [
        "pending",
        "accepted",
        "rejected",
        "canceled",
        "expired"
      ]
    },
    "public.member_role": {
      "name": "member_role",
      "schema": "public",
      "values": [
        "owner",
        "admin",
        "builder",
        "member"
      ]
    },
    "public.message_type": {
      "name": "message_type",
      "schema": "public",
      "values": [
        "user",
        "assistant",
        "tool_call",
        "tool_result",
        "system",
        "error"
      ]
    },
    "public.output_kind": {
      "name": "output_kind",
      "schema": "public",
      "values": [
        "table",
        "chart",
        "markdown",
        "key_value"
      ]
    },
    "public.prompt_mode": {
      "name": "prompt_mode",
      "schema": "public",
      "values": [
        "template",
        "script"
      ]
    },
    "public.recipe_execution_event_type": {
      "name": "recipe_execution_event_type",
      "schema": "public",
      "values": [
        "started",
        "step_started",
        "step_completed",
        "step_failed",
        "waiting_input",
        "input_received",
        "completed",
        "failed"
      ]
    },
    "public.recipe_execution_status": {
      "name": "recipe_execution_status",
      "schema": "public",
      "values": [
        "pending",
        "running",
        "waiting_input",
        "completed",
        "failed"
      ]
    },
    "public.recipe_step_type": {
      "name": "recipe_step_type",
      "schema": "public",
      "values": [
        "action",
        "branch",
        "loop"
      ]
    },
    "public.connection_mode": {
      "name": "connection_mode",
      "schema": "public",
      "values": [
        "direct",
        "connector"
      ]
    },
    "public.resource_type": {
      "name": "resource_type",
      "schema": "public",
      "values": [
        "postgres",
        "mysql",
        "stripe",
        "github",
        "intercom",
        "restapi",
        "synatra_ai"
      ]
    },
    "public.run_status": {
      "name": "run_status",
      "schema": "public",
      "values": [
        "running",
        "waiting_human",
        "waiting_subagent",
        "completed",
        "failed",
        "cancelled",
        "rejected"
      ]
    },
    "public.thread_kind": {
      "name": "thread_kind",
      "schema": "public",
      "values": [
        "thread",
        "playground"
      ]
    },
    "public.thread_status": {
      "name": "thread_status",
      "schema": "public",
      "values": [
        "running",
        "waiting_human",
        "completed",
        "failed",
        "cancelled",
        "rejected",
        "skipped"
      ]
    },
    "public.schedule_mode": {
      "name": "schedule_mode",
      "schema": "public",
      "values": [
        "interval",
        "cron"
      ]
    },
    "public.trigger_mode": {
      "name": "trigger_mode",
      "schema": "public",
      "values": [
        "prompt",
        "template",
        "script"
      ]
    },
    "public.trigger_type": {
      "name": "trigger_type",
      "schema": "public",
      "values": [
        "webhook",
        "schedule",
        "app"
      ]
    },
    "public.version_mode": {
      "name": "version_mode",
      "schema": "public",
      "values": [
        "current",
        "fixed"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}
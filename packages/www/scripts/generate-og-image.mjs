import sharp from "sharp"
import path from "path"
import { fileURLToPath } from "url"

const __dirname = path.dirname(fileURLToPath(import.meta.url))

const width = 1200
const height = 630

const colors = {
  bg: "#111111",
  bgMuted: "#0a0a0a",
  surface: "#161616",
  surfaceMuted: "#0d0d0d",
  border: "#252525",
  borderMuted: "#1a1a1a",
  text: "#f7f8f4",
  textSecondary: "#a8a8a8",
  textMuted: "#6b6b6b",
  success: "#22c55e",
  successSoft: "rgba(34, 197, 94, 0.15)",
  warning: "#eab308",
  warningSoft: "rgba(234, 179, 8, 0.15)",
  blue: "#3b82f6",
  blueSoft: "rgba(59, 130, 246, 0.2)",
}

const svg = `
<svg width="${width}" height="${height}" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="heroGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:rgba(17,17,17,0.2)"/>
      <stop offset="40%" style="stop-color:rgba(17,17,17,0.5)"/>
      <stop offset="100%" style="stop-color:${colors.bg}"/>
    </linearGradient>
  </defs>

  <!-- Hero gradient overlay -->
  <rect width="${width}" height="${height}" fill="url(#heroGrad)"/>

  <!-- Centered content -->
  <g transform="translate(${width / 2}, ${height / 2 - 40})">
    <!-- Main headline - big and centered -->
    <text y="-40" font-family="system-ui, -apple-system, sans-serif" font-size="72" font-weight="600" fill="${colors.text}" text-anchor="middle" letter-spacing="-0.03em">
      "Hey AI,
    </text>
    <text y="50" font-family="system-ui, -apple-system, sans-serif" font-size="72" font-weight="600" fill="${colors.text}" text-anchor="middle" letter-spacing="-0.03em">
      I need to refund order #4521"
    </text>

    <!-- Subtext -->
    <text y="130" font-family="system-ui, -apple-system, sans-serif" font-size="22" fill="${colors.textSecondary}" text-anchor="middle">
      No more building dashboards. Just tell your AI agent what you need.
    </text>

    <!-- Connects to -->
    <g transform="translate(0, 200)">
      <text y="0" font-family="system-ui, -apple-system, sans-serif" font-size="14" fill="${colors.textMuted}" text-anchor="middle">Connects to</text>
      <g transform="translate(-100, 20)">
        <!-- PostgreSQL -->
        <g transform="translate(0, 0) scale(0.33)">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M22.0981 42.8655C19.4774 40.1313 18.2004 36.4533 18.6797 33.027C19.1427 29.721 18.8812 26.4849 18.7398 24.7449C18.6927 24.165 18.6618 23.7328 18.6635 23.494C18.6635 23.4856 18.6648 23.4778 18.6662 23.4699C18.667 23.4656 18.6678 23.4612 18.6683 23.4567C18.6683 23.4534 18.6675 23.4506 18.6667 23.4477C18.6659 23.4449 18.6651 23.442 18.6651 23.4388C18.8617 18.5309 20.7545 10.7882 25.9649 6.18579C23.4271 5.18667 19.2938 3.86914 15.4141 4.01048C9.33441 4.23142 3.44973 8.43583 4.04112 20.2562C4.26371 24.6913 9.27592 51.2905 16.1289 51.1232C17.1086 51.0988 18.1257 50.4701 19.1704 49.2127C20.8227 47.2258 22.4279 45.4242 23.5701 44.17C23.0583 43.7817 22.5644 43.3528 22.0981 42.8655ZM57.6937 19.8192C57.7181 20.0694 57.697 20.2839 57.658 20.4821C57.7084 21.9767 57.5475 23.4274 57.3834 24.831C57.2632 25.8643 57.1397 26.9316 57.1056 28.0022C57.0715 29.0476 57.2186 30.0801 57.3742 31.1722L57.3753 31.1799C57.7408 33.7435 58.121 36.6368 56.1324 40.0127C56.4979 40.4936 56.8196 40.9403 57.0763 41.3725C64.5662 29.2288 67.5849 14.7928 64.7043 11.1131C60.3452 5.54408 54.3111 3.9325 49.5312 4.01048C48.0349 4.03485 46.675 4.2363 45.5133 4.48811C53.7603 8.48456 57.4338 17.0493 57.6937 19.8192ZM64.1552 44.7402C59.8253 45.6337 57.7425 45.1577 56.7319 44.5355C56.5737 44.6494 56.4154 44.7464 56.2677 44.8369L56.2675 44.837L56.2559 44.8442C55.6515 45.2097 54.6945 45.7913 54.4606 49.3638C54.518 49.3748 54.5725 49.3838 54.6274 49.3929L54.6277 49.393L54.6279 49.393C54.7018 49.4052 54.7765 49.4176 54.8602 49.4352L55.567 49.4986C57.7116 49.5961 60.5207 48.995 62.1682 48.2298C65.7181 46.5825 67.6532 44.0189 64.1552 44.7402ZM33.3232 48.0674C33.2631 47.5832 33.0015 47.1917 32.5238 46.8782L32.3483 46.8018L32.3431 46.7995C31.7579 46.5418 31.0942 46.2495 30.0364 46.2495H30.0299C29.8236 46.2657 29.6188 46.2803 29.4125 46.2803C29.3634 46.2803 29.3148 46.2765 29.2661 46.2726L29.266 46.2726H29.2659C29.231 46.2698 29.196 46.2671 29.1607 46.2657C28.3906 46.8587 27.2955 47.3168 24.5855 47.874C19.7439 49.1071 22.6017 50.5627 24.4588 50.7885C26.2557 51.2385 30.5271 51.786 33.3638 49.4742C33.3557 48.7464 33.3427 48.2461 33.3232 48.0674ZM51.1576 51.1231C51.1576 50.9016 51.1662 50.7045 51.1749 50.507C51.1792 50.4076 51.1836 50.308 51.1869 50.2052C51.1706 49.7975 51.1576 49.4986 51.1576 49.4986C51.1576 49.4986 51.1635 49.4941 51.1743 49.4866C51.1831 49.4805 51.195 49.4723 51.2096 49.4628C51.4517 45.1203 52.6491 43.447 53.931 42.4934C53.7873 42.2935 53.6257 42.0811 53.4674 41.8729L53.4674 41.8728L53.3526 41.7217L53.3166 41.6745C52.7818 40.9728 52.1214 40.1063 51.4159 39.0022L51.2827 38.7455C51.1913 38.5217 50.991 38.1617 50.731 37.6941C50.6814 37.6049 50.6296 37.5118 50.576 37.415L50.5743 37.412C48.6517 33.9343 44.6547 26.7045 47.3915 22.1374C48.5906 20.136 50.8392 18.9825 54.087 18.6982C52.7596 14.9243 47.7864 5.82183 36.5109 5.63501H36.5012C26.6863 5.4758 23.4613 14.3947 22.4117 19.7233C23.8577 19.1109 25.5084 18.7388 27.0194 18.7388H27.0893C30.8098 18.7665 33.3687 20.7517 34.1128 24.1877C34.6571 26.709 34.9187 28.9152 34.9122 30.9345C34.896 35.3517 34.0056 37.6749 33.2193 39.7251L32.9691 40.3879C32.7676 40.9305 32.5548 41.4358 32.3533 41.9102C32.1486 42.3943 31.9682 42.8248 31.8366 43.2131C32.623 43.3918 33.2404 43.6436 33.6644 43.8304L33.9098 43.9376C33.9861 43.9701 34.0625 44.0075 34.1323 44.0497C35.5101 44.888 36.3679 46.1763 36.5515 47.6774C36.6506 48.4864 36.6344 54.0019 36.6003 58.8139C36.7416 60.9014 37.0958 62.6544 37.5637 63.9248C38.2282 65.7346 39.8887 69.19 43.078 68.9918C45.3038 68.8537 47.4435 67.4988 48.8635 65.7118C50.3875 63.7932 50.9497 61.6715 51.1609 59.2817V51.1231H51.1576ZM29.0929 26.7299C29.9199 26.8631 30.6688 26.4342 31.1433 25.9436C31.4861 27.7728 31.6664 29.451 31.6599 30.9213C31.6453 34.7439 30.9028 36.6853 30.1831 38.5616L29.9198 39.2553C29.7363 39.7508 29.5413 40.209 29.3577 40.6395L29.3538 40.6486C29.0238 41.4268 28.7039 42.181 28.5242 42.9545C27.1075 42.7141 25.6713 41.9018 24.4413 40.6184C22.5339 38.6266 21.5575 35.8908 21.8954 33.4783C22.4072 29.8182 22.1278 26.3465 21.9767 24.4831C21.9687 24.3813 21.9607 24.2854 21.9533 24.1957C21.941 24.0477 21.9301 23.9169 21.9231 23.8056C22.4657 23.0697 25.1643 21.7408 27.707 22.0235C29.1416 22.181 30.0823 22.826 30.6022 23.9437C30.2448 23.7813 29.8207 23.6497 29.3545 23.5733C28.0108 23.3556 26.8622 23.6724 26.7907 24.28C26.7159 24.8892 27.7476 26.5122 29.0929 26.7299ZM53.8582 27.8979C53.816 29.2285 53.9898 30.455 54.1588 31.6393C54.422 33.4848 54.6576 35.1419 54.0191 36.9598C53.8599 36.6511 53.6681 36.2921 53.4196 35.8421C52.2563 33.7383 49.8923 29.451 49.7104 26.2457C50.1312 26.5365 50.6787 26.7331 51.2522 26.7331C51.3546 26.7331 51.4602 26.7266 51.5642 26.7136C52.1409 26.6389 52.7079 26.3578 53.158 25.9208C53.3773 25.708 53.8777 25.1524 53.7884 24.5627C53.6665 23.7569 52.6088 23.3394 51.1596 23.5278C50.8184 23.5717 50.5097 23.6448 50.2368 23.7374C50.8964 22.7155 52.2871 22.1112 54.3814 21.9374C54.3359 22.7578 54.2579 23.5896 54.1572 24.4555L54.1553 24.472C54.0275 25.5667 53.8954 26.6985 53.8582 27.8979Z" fill="#336791"/>
        </g>
        <!-- MySQL -->
        <g transform="translate(44, -3) scale(0.42)">
          <path d="m17.8292 51.7282h-2.701c-.0955-4.6032-.3585-8.9309-.7886-12.9861h-.024l-4.1123 12.9861h-2.05646l-4.08779-12.9861h-.02348c-.30325 3.8934-.49427 8.2221-.57361 12.9861h-2.46196c.15867-5.7932.55743-11.2243 1.19471-16.294h3.34768l3.89623 11.9727h.02401l3.92027-11.9727h3.2031c.7015 5.9381 1.1159 11.3698 1.2432 16.294zm11.7138-12.0217c-1.0997 6.0256-2.5507 10.4039-4.3514 13.1368-1.4029 2.1038-2.94 3.1567-4.6139 3.1567-.4462 0-.9969-.136-1.6493-.4058v-1.4529c.3189.0464.6931.0727 1.1232.0727.7819 0 1.4103-.2171 1.8894-.6524.5731-.5301.8596-1.1262.8596-1.7854 0-.4522-.2233-1.3765-.6691-2.7762l-2.964-9.294h2.6535l2.1274 6.951c.4781 1.5783.6774 2.6803.5976 3.3079 1.1634-3.1372 1.976-6.5579 2.439-10.2594h2.558z" fill="#5d87a1"/>
          <path d="m65.4964 51.7284h-7.6724v-16.2943h2.581v14.2885h5.0914zm-9.6808.3936-2.9666-1.4782c.263-.2182.5146-.4543.7411-.7278 1.261-1.4956 1.8899-3.7074 1.8899-6.637 0-5.3906-2.095-8.0873-6.2866-8.0873-2.0554 0-3.6588.6841-4.8055 2.0527-1.2599 1.4966-1.8889 3.7005-1.8889 6.6143 0 2.8642.5575 4.9654 1.6728 6.2982 1.0204 1.2073 2.5585 1.8118 4.6155 1.8118.7672 0 1.4713-.0949 2.1128-.2862l3.8623 2.2703zm-9.6103-3.6542c-.6535-1.0613-.9802-2.7656-.9802-5.1155 0-4.1027 1.2344-6.1564 3.7057-6.1564 1.2918 0 2.2386.4911 2.844 1.4714.6524 1.0629.9807 2.7519.9807 5.0691 0 4.1365-1.2354 6.2049-3.7052 6.2049-1.2923.0005-2.2391-.489-2.845-1.4735zm-4.831-1.2558c0 1.3818-.5021 2.5154-1.5053 3.4033-1.0042.8844-2.3508 1.3276-4.0382 1.3276-1.5783 0-3.1086-.5091-4.5898-1.522l.6936-1.3992c1.2746.6445 2.4286.9649 3.4646.9649.9724 0 1.7323-.2176 2.2835-.6492.5506-.4332.8789-1.0408.8789-1.8092 0-.9681-.6686-1.7955-1.8951-2.4885-1.1311-.6271-3.3931-1.9383-3.3931-1.9383-1.226-.9022-1.8398-1.8708-1.8398-3.4666 0-1.3206.4577-2.3867 1.3737-3.1978.917-.8142 2.1002-1.22 3.5507-1.22 1.4979 0 2.8597.4053 4.0862 1.2074l-.6221 1.3997c-1.0491-.4501-2.0846-.6751-3.1061-.6751-.8272 0-1.4661.2008-1.9102.6039-.4479.4016-.724.9154-.724 1.5457 0 .9634.6827 1.8013 1.9427 2.508 1.1461.6282 3.4646 1.962 3.4646 1.962 1.2573.9006 1.8852 1.8603 1.8852 3.4434z" fill="#f8981d"/>
          <path d="m68.7364 29.9766c-1.5606-.04-2.7689.1186-3.783.5518-.2928.1181-.7584.1181-.7991.4917.1582.1581.1764.4132.3137.6313.2338.3937.6415.9233 1.0136 1.1995.4087.3162.8189.6292 1.249.9048.7583.4738 1.618.7494 2.357 1.2216.4306.2745.8586.6297 1.2897.9254.2119.1575.3476.4131.6227.5117v-.0601c-.1378-.1771-.1769-.4332-.3121-.6303l-.5856-.5702c-.5658-.7673-1.2689-1.4371-2.0272-1.9873-.6243-.4342-1.9896-1.0244-2.2428-1.7506l-.0396-.0401c.429-.0406.9379-.1976 1.3455-.3183.6634-.1765 1.2683-.1365 1.9489-.313.3132-.0791.6237-.1782.9379-.2756v-.1776c-.3528-.3547-.6044-.8258-.9755-1.161-.9927-.8658-2.0867-1.7127-3.2172-2.4215-.6054-.3947-1.3841-.6488-2.0287-.9845-.2323-.1185-.6237-.177-.7605-.3741-.3497-.4332-.5464-1.0034-.8001-1.5162-.5637-1.0819-1.1112-2.2824-1.5976-3.4265-.3518-.7673-.5658-1.5335-.9949-2.2434-2.0094-3.3464-4.1916-5.3732-7.5456-7.3626-.7207-.4142-1.5783-.5908-2.4943-.80787l-1.463-.078c-.3121-.13807-.6247-.51276-.8972-.68983-1.1127-.70828-3.9776-2.24341-4.796-.2166-.5272 1.2811.7798 2.5406 1.2286 3.1904.3315.4511.761.9644.9927 1.4766.1373.3347.1759.6899.3132 1.0435.3121.8664.6039 1.8302 1.0141 2.6386.214.4121.4473.8453.7208 1.2184.1566.2182.429.3147.4885.6704-.2719.3921-.2933.9839-.4493 1.4761-.7015 2.2244-.4275 4.9801.5668 6.6148.311.4922 1.0532 1.5757 2.046 1.1604.8789-.3541.6842-1.4761.9368-2.46.058-.2376.0199-.3936.1368-.5496v.0385c.2719.5507.5464 1.0813.7985 1.6336.605.9639 1.6582 1.9683 2.5356 2.636.4671.3563.8372.9655 1.4223 1.1831v-.059h-.0387c-.1184-.1765-.2917-.2556-.4473-.3926-.3517-.3547-.7411-.7878-1.0141-1.181-.8173-1.103-1.5407-2.324-2.1827-3.5841-.3142-.6113-.5851-1.2795-.8382-1.8898-.118-.2355-.118-.5907-.3137-.7093-.2933.4327-.7208.8074-.9348 1.3375-.3711.848-.4097 1.8909-.5475 2.9754l-.0767.038c-.6211-.1576-.8372-.8063-1.0731-1.357-.5841-1.3987-.6822-3.6437-.1754-5.2573.1357-.4127.7229-1.7122.4885-2.1053-.1174-.3768-.5078-.5913-.7218-.888-.2516-.3731-.5272-.8453-.7025-1.2595-.4677-1.102-.7031-2.323-1.2067-3.4244-.2354-.5133-.6441-1.0445-.975-1.5172-.3716-.5313-.7803-.9054-1.0741-1.5352-.0971-.21657-.2333-.57071-.0773-.80628.0381-.15809.1174-.21712.273-.25664.2526-.21554.9744.05849 1.2276.17707.7228.29511 1.3272.57073 1.9306.98385.273.1977.5658.5718.916.6704h.4102c.6227.137 1.3247.0379 1.9108.216 1.0329.3352 1.9688.8269 2.808 1.3576 2.5539 1.6352 4.6599 3.9587 6.0816 6.7339.2333.4521.3325.8664.5454 1.338.4108.9655.9186 1.9499 1.3263 2.8948.4097.9249.8001 1.8692 1.3852 2.6376.2917.4131 1.464.6297 1.9896.8463.3888.1766.9943.3336 1.345.5502.6634.4126 1.3242.8864 1.9479 1.3402.3105.236 1.2865.7283 1.3445 1.1224zm-19.8888-17.1082c-.2692-.0029-.5376.0305-.7981.099v.0396h.0376c.1571.3146.4301.5328.6248.8073.1571.3157.2933.6287.4473.9439l.0375-.039c.2751-.1966.4118-.5117.4118-.9845-.1184-.1391-.1367-.275-.2354-.4131-.1148-.1971-.3679-.2951-.5255-.4532z" fill="#5d87a1"/>
        </g>
        <!-- Stripe -->
        <g transform="translate(88, 0) scale(1)">
          <path fill="#635bff" d="M13.976 9.15c-2.172-.806-3.356-1.426-3.356-2.409 0-.831.683-1.305 1.901-1.305 2.227 0 4.515.858 6.09 1.631l.89-5.494C18.252.975 15.697 0 12.165 0 9.667 0 7.589.654 6.104 1.872 4.56 3.147 3.757 4.992 3.757 7.218c0 4.039 2.467 5.76 6.476 7.219 2.585.92 3.445 1.574 3.445 2.583 0 .98-.84 1.545-2.354 1.545-1.875 0-4.965-.921-6.99-2.109l-.9 5.555C5.175 22.99 8.385 24 11.714 24c2.641 0 4.843-.624 6.328-1.813 1.664-1.305 2.525-3.236 2.525-5.732 0-4.128-2.524-5.851-6.591-7.305z"/>
        </g>
        <!-- GitHub -->
        <g transform="translate(132, 0) scale(0.245)">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="#fff"/>
        </g>
        <!-- Intercom -->
        <g transform="translate(176, 0) scale(0.105)">
          <path d="M198.821 125.463C198.821 127.496 198.02 129.445 196.594 130.882C195.168 132.319 193.235 133.127 191.218 133.127C189.202 133.127 187.268 132.319 185.842 130.882C184.416 129.445 183.615 127.496 183.615 125.463V57.0003C183.615 54.9679 184.416 53.0187 185.842 51.5816C187.268 50.1444 189.202 49.337 191.218 49.337C193.235 49.337 195.168 50.1444 196.594 51.5816C198.02 53.0187 198.821 54.9679 198.821 57.0003V125.463ZM196.182 172.9C195.177 173.913 166.902 197.663 115.064 197.663C63.227 197.663 35.1406 174.04 33.9467 173.026C33.1944 172.387 32.5747 171.604 32.1231 170.723C31.6716 169.841 31.3971 168.879 31.3153 167.89C31.2336 166.902 31.3463 165.907 31.6469 164.962C31.9475 164.018 32.4301 163.142 33.0671 162.386V162.386C34.3793 160.856 36.2386 159.911 38.2396 159.756C40.2406 159.602 42.2209 160.252 43.7487 161.563C44.1886 161.88 69.4475 182.526 115.002 182.526C160.556 182.526 186.003 161.753 186.254 161.563C187.799 160.263 189.786 159.622 191.792 159.776C193.799 159.93 195.667 160.866 196.999 162.386C198.281 163.894 198.921 165.851 198.779 167.831C198.638 169.811 197.727 171.656 196.245 172.963L196.182 172.9ZM31.2449 57.0003C31.3585 54.9615 32.2683 53.0508 33.7754 51.6861C35.2824 50.3213 37.2642 49.6134 39.2876 49.717C41.1633 49.8244 42.9332 50.628 44.2559 51.9729C45.5786 53.3178 46.3604 55.1088 46.4505 57.0003V125.337C46.4505 127.369 45.6495 129.318 44.2237 130.755C42.7979 132.193 40.8641 133 38.8477 133C36.8313 133 34.8975 132.193 33.4717 130.755C32.0459 129.318 31.2449 127.369 31.2449 125.337V57.0003ZM69.3847 41.8004C69.4983 39.7615 70.4081 37.8509 71.9151 36.4862C73.4222 35.1214 75.404 34.4135 77.4273 34.5171C79.3031 34.6245 81.073 35.4281 82.3957 36.773C83.7183 38.1179 84.5001 39.9088 84.5903 41.8004V143.133C84.5903 145.166 83.7893 147.115 82.3635 148.552C80.9377 149.989 79.0039 150.796 76.9875 150.796C74.9711 150.796 73.0373 149.989 71.6115 148.552C70.1857 147.115 69.3847 145.166 69.3847 143.133V41.8004ZM107.713 38.0004C107.713 35.968 108.514 34.0188 109.94 32.5817C111.366 31.1445 113.299 30.3371 115.316 30.3371C117.332 30.3371 119.266 31.1445 120.692 32.5817C122.118 34.0188 122.919 35.968 122.919 38.0004V148.2C122.919 150.232 122.118 152.181 120.692 153.619C119.266 155.056 117.332 155.863 115.316 155.863C113.299 155.863 111.366 155.056 109.94 153.619C108.514 152.181 107.713 150.232 107.713 148.2V38.0004ZM145.413 41.8004C145.413 39.768 146.214 37.8188 147.64 36.3816C149.065 34.9445 150.999 34.1371 153.016 34.1371C155.032 34.1371 156.966 34.9445 158.392 36.3816C159.817 37.8188 160.618 39.768 160.618 41.8004V143.133C160.618 145.166 159.817 147.115 158.392 148.552C156.966 149.989 155.032 150.796 153.016 150.796C150.999 150.796 149.065 149.989 147.64 148.552C146.214 147.115 145.413 145.166 145.413 143.133V41.8004ZM200.895 0.00063243H29.4856C25.7507 -0.024391 22.0476 0.693392 18.5883 2.11288C15.1289 3.53237 11.9814 5.6257 9.32581 8.27299C6.67023 10.9203 4.55877 14.0695 3.11235 17.5405C1.66592 21.0114 0.912928 24.7358 0.896484 28.5005L0.896484 199.5C0.912928 203.264 1.66592 206.989 3.11235 210.46C4.55877 213.93 6.67023 217.08 9.32581 219.727C11.9814 222.374 15.1289 224.468 18.5883 225.887C22.0476 227.307 25.7507 228.024 29.4856 227.999H200.895C204.624 228.024 208.322 227.309 211.777 225.893C215.233 224.478 218.377 222.39 221.032 219.749C223.687 217.109 225.8 213.967 227.25 210.503C228.7 207.04 229.459 203.322 229.484 199.563V199.563V28.5005C229.467 24.7412 228.716 21.022 227.274 17.5552C225.831 14.0884 223.725 10.942 221.076 8.29549C218.428 5.64903 215.287 3.55438 211.835 2.13115C208.383 0.707912 204.687 -0.0160384 200.957 0.00063243V0.00063243" fill="white"/>
        </g>
      </g>
    </g>
  </g>

  <!-- Logo (top-left) -->
  <g transform="translate(48, 40)">
    <rect x="0" y="0" width="28" height="28" rx="7" fill="${colors.text}"/>
    <text x="40" y="21" font-family="system-ui, -apple-system, sans-serif" font-size="22" font-weight="600" fill="${colors.text}" letter-spacing="-0.02em">Synatra</text>
  </g>
</svg>
`

async function generate() {
  const outputPath = path.join(__dirname, "../public/og-image.png")
  const bgPath = path.join(__dirname, "../src/assets/hero_background.webp")

  const bg = await sharp(bgPath)
    .resize(width, height, { fit: "cover", position: "top" })
    .modulate({ brightness: 0.4 })
    .toBuffer()

  const overlay = await sharp(Buffer.from(svg)).png().toBuffer()

  await sharp(bg)
    .composite([{ input: overlay, blend: "over" }])
    .png()
    .toFile(outputPath)

  console.log("Generated og-image.png")
}

generate().catch(console.error)

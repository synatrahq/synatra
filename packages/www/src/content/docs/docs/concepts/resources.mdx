---
title: Resources
description: External integrations with encrypted credentials.
---

Resources represent external systems that tools can interact with.

## Overview

Synatra supports six resource types:

| Resource Type | Description                     | Connection Mode     |
| ------------- | ------------------------------- | ------------------- |
| PostgreSQL    | Connect to PostgreSQL databases | Direct or Connector |
| MySQL         | Connect to MySQL databases      | Direct or Connector |
| REST API      | Connect to any REST API         | Direct or Connector |
| Stripe        | Access Stripe payment APIs      | Direct only         |
| GitHub        | Access GitHub repository APIs   | Direct only (OAuth) |
| Intercom      | Access Intercom APIs            | Coming soon         |

## Security

All resource credentials are:

- Encrypted at rest using AES
- Decrypted only in the Resource Gateway
- Never exposed to user code directly

## Creating a resource

1. Navigate to **Resources** in the Console
2. Click **New Resource**
3. Select the resource type
4. Enter connection details
5. Test the connection

## Using resources in tools

Resources are available in tool code via the `context.resources` object:

```javascript
// PostgreSQL
const result = await context.resources.db.query("SELECT * FROM users WHERE id = $1", [userId])

// MySQL
const result = await context.resources.db.query("SELECT * FROM orders WHERE customer_id = ?", [customerId])

// REST API
const data = await context.resources.api.request("GET", "/users")
const created = await context.resources.api.request("POST", "/users", { name: "John" })

// Stripe
const customer = await context.resources.stripe.request("GET", `/v1/customers/${customerId}`)

// GitHub
const issues = await context.resources.github.request("GET", "/repos/myorg/myrepo/issues?state=open")

// Intercom
const conversations = await context.resources.intercom.request("GET", "/conversations")
```

## Connection modes

Resources can connect in two modes:

- **Direct**: Resource Gateway connects directly using stored credentials
- **Connector**: Queries routed through a Connector running in your network (for databases in private VPCs or internal REST APIs)

PostgreSQL, MySQL, and REST API support both connection modes.

## Resource gateway

The Resource Gateway is an internal service that:

- Manages connection pools for databases
- Handles OAuth token refresh for GitHub and Intercom
- Enforces rate limits
- Logs all external access
- Provides network isolation

## Connector

The Connector enables secure access to resources in private networks without exposing them to the internet.

### Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│                        Your Network                             │
│                                                                 │
│  ┌───────────┐      ┌───────────┐      ┌──────────────────┐    │
│  │ Connector │─────▶│ Database  │      │ Internal REST API│    │
│  │           │      │ (Private) │      │    (Private)     │    │
│  └─────┬─────┘      └───────────┘      └──────────────────┘    │
│        │                                        ▲               │
│        │                                        │               │
│        └────────────────────────────────────────┘               │
│        │                                                        │
└────────┼────────────────────────────────────────────────────────┘
         │ Outbound WebSocket (TLS)
         ▼
┌─────────────────────────────────────────────────────────────────┐
│                     Synatra Cloud                               │
│                                                                 │
│  ┌──────────────────┐      ┌─────────────────┐                 │
│  │ Resource Gateway │◀────▶│ Agent Execution │                 │
│  └──────────────────┘      └─────────────────┘                 │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### Security model

**Outbound-Only Connection**

The Connector initiates an outbound WebSocket connection to Synatra Cloud. No inbound ports need to be opened in your firewall, eliminating common attack vectors.

**Credentials Stay Local**

When using Connector mode, database credentials and API keys are sent to the Connector at connection time—they are never stored in Synatra Cloud. The Connector decrypts and uses them locally.

**Token-Based Authentication**

Each Connector authenticates using a unique token generated in the Console. Tokens can be revoked at any time, immediately disconnecting the Connector.

**Continuous Validation**

The connection is validated continuously:

- Heartbeat every 25 seconds
- Token validity checked on each heartbeat
- Automatic disconnection if token is revoked

### Deployment

The Connector can run anywhere with network access to your resources:

- Docker container
- Kubernetes pod
- VM or bare metal server
- Cloud instance in your VPC

**Environment Variables**

| Variable          | Description                            |
| ----------------- | -------------------------------------- |
| `GATEWAY_URL`     | Synatra Resource Gateway WebSocket URL |
| `CONNECTOR_TOKEN` | Authentication token from Console      |

### Capabilities

The Connector supports:

| Resource Type | Operations                          |
| ------------- | ----------------------------------- |
| PostgreSQL    | Query, Introspect, Connection Test  |
| MySQL         | Query, Introspect, Connection Test  |
| REST API      | HTTP requests (GET, POST, PUT, etc) |

### High availability

- Automatic reconnection with exponential backoff
- Connection pooling for database resources
- 30-second command timeout
- Graceful shutdown handling

### When to use Connector mode

Use Connector mode when:

- Your database is in a private VPC without public access
- You have internal REST APIs that shouldn't be exposed
- Corporate firewall policies prohibit inbound connections
- You want credentials to remain within your network
